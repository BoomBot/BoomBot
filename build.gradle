repositories {
    mavenCentral()
    jcenter()
}

apply plugin: 'java'

def loadProperties(String sourceFileName) {
    def config = new Properties()
    def propFile = new File(sourceFileName)
    if (propFile.canRead()) {
        config.load(new FileInputStream(propFile))
        for (Map.Entry property in config) {
            ext[property.key] = property.value;
        }
    }
}

loadProperties 'build.properties'

group = "$group"
archivesBaseName = "$archiveName"
version = "$releaseVersion"

dependencies {
    compile "net.dv8tion:JDA:1.3.0_188"
    compile "com.google.code.gson:gson:2.2.4"
    compile "commons-io:commons-io:2.4"
    compile "com.google.guava:guava:11.0.2"
}

jar {
    manifest  {
        attributes 'Main-Class' : "$mainClass"
    }
}